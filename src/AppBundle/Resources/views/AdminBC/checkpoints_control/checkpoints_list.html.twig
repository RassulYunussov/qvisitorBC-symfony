{% extends 'AppBundle::base.html.twig' %}

{% block title %}Личный кабинет администратора{% endblock %}

{% block body %}
                
     <div id="page-wrapper">
            <div class="row">
                <div class="col-lg-12">
                            {% block breadcrumb %}
                       <div id="breadcrumbs" class="btn-group btn-breadcrumb">
                <br>
                <a class="btn btn-default" href="{{ path('main_page') }}">
                    <i class="fa fa-home"></i>
                        Главная
                </a>
                        <a class="btn btn-default"  href="{{ path('buildings_list') }}">Управление зданиями</a>
                        <a class="btn btn-default" href="{{ path('checkpoints_list') }}">Управление КПП</a>
                    </div>
                    {% endblock %}
            
           <h1 class="page-header">Личный кабинет администратора</h1>
                <!-- /.col-lg-12 -->
            </div>
            <!-- /.row -->
                    </div>
                    
<div class="row">
                <div class="col-lg-12">
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            Контрольно-пропускные пункты
                        </div>
                        <!-- /.panel-heading -->
                    <div class="col-sm-6">
                                <div id="dataTables-example_filter" align="right" class="dataTables_filter">
                                <a href="{{ path('checkpoints_create') }}" class="btn btn-success">Добавить новый КПП</a>
                                <a href="{{ path('new_security') }}" class="btn btn-success">Добавить нового охраника</a>
                                </div><br></div>
                    </div>

                    <div class="row"><div class="col-sm-12">
                                <table class="table table-striped table-bordered table-hover dataTable no-footer" id="dataTable-checkpoint" role="grid" aria-describedby="dataTables-example_info">
                                    <thead>
                                        <tr role="row">
                                        <th class="sorting_asc" tabindex="0" aria-controls="dataTables-example" rowspan="1" colspan="1" aria-sort="ascending" aria-label="Rendering engine: activate to sort column descending" style="width: 130px;">Название КПП
                                        </th>
                                        
                                        <th class="sorting" tabindex="0" aria-controls="dataTables-example" rowspan="1" colspan="1" aria-label="Browser: activate to sort column ascending" style="width: 120px;">Здание
                                        </th>

                                         <th class="sorting" tabindex="0" aria-controls="dataTables-example" rowspan="1" colspan="1" aria-label="Browser: activate to sort column ascending" style="width: 120px;">Охрана (ФИО)
                                        </th>
                                        
                                        <th class="sorting" tabindex="0" aria-controls="dataTables-example" rowspan="1" colspan="1" aria-label="Actions: activate to sort column ascending" style="width: 40px;">Действия</th>
                                        </tr>
                                        
                                    </thead>
                                    <tbody>
        <tr class="gradeA odd" role="row">
        {% for qvCheckpoint in qvCheckpoints%}
    <tr>
        <td>
            <a href="{{ path('checkpoints_show', { 'id': qvCheckpoint.id}) }}">{{ qvCheckpoint.name }}
            </a>
        </td>
        <td>
            <a href="{{ path('buildings_show', { 'id': qvCheckpoint.id }) }}">{{ qvCheckpoint.building }}
            </a>
        </td>
            <td>
               {% for security in security %}
               {{ security.firstname}}
               {{   security.lastname }}
               {{ security.patronimic }},<br>
               {%endfor%}
            </td>
        <td>      <div class="btn-group">
              <a class="btn btn-default" href="{{ path('checkpoints_show', {'qvBuilding':qvBuilding.id, 'id': qvCheckpoint.id }) }}" data-title="Информация об учетной записи пользователя"> <i class="fa fa-eye"></i>
                  </a> &nbsp; 
                  
                  <a class="btn btn-default" href="{{ path('checkpoints_edit', { 'qvBuilding':qvBuilding.id, 'id': qvCheckpoint.id }) }}" data-title="Изменить или удалить информацию о пользователе">
                    <i class="fa fa-edit"></i>
                  </a></div>
        </td>
                
    </tr>
        {% endfor %}
    </tr>
      </tbody>
      </table>
      </div>
  </div>
                            </div>
                            </div>
                            <!-- /.table-responsive -->
                            
                        </div>
                        <!-- /.panel-body -->
                    </div>
                    <!-- /.panel -->
                </div>
                <!-- /.col-lg-12 -->
            </div>  
        <!-- /#page-wrapper -->
</div>
    
            {% endblock %}
            {% block js %}
                <script>
                $(document).ready(function() {
                $('#dataTable-checkpoint').DataTable();
                });
                </script>
            {% endblock %}
            